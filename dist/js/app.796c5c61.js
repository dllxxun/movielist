(function(){"use strict";var e={1520:function(e,t,o){var r=o(3751),s=o(641),i=o(33);const a={id:"app"},l={class:"navigation"},n={class:"nav-left"},c={class:"nav-right"},d={key:0,class:"user-menu"},u={key:0,class:"dropdown"},h={class:"main-content"};function v(e,t,o,r,v,g){const m=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",a,[(0,s.Lk)("nav",l,[(0,s.Lk)("div",n,[(0,s.Lk)("span",{class:"home-link",onClick:t[0]||(t[0]=(...e)=>g.goToHome&&g.goToHome(...e))},"Home"),(0,s.Lk)("span",{class:"wishlist-link",onClick:t[1]||(t[1]=(...e)=>g.goToWishlist&&g.goToWishlist(...e))},"내가 찜한 콘텐츠"),(0,s.Lk)("span",{class:"popular-link",onClick:t[2]||(t[2]=(...e)=>g.goToPopular&&g.goToPopular(...e))},"대세 콘텐츠")]),(0,s.Lk)("div",c,[v.isLoggedIn?((0,s.uX)(),(0,s.CE)("div",d,[(0,s.Lk)("span",{class:"search-icon",onClick:t[3]||(t[3]=(...e)=>g.goToSearch&&g.goToSearch(...e))},"🔍"),(0,s.Lk)("span",{class:"nickname",onClick:t[4]||(t[4]=(...e)=>g.toggleDropdown&&g.toggleDropdown(...e))},(0,i.v_)(v.userNickname)+"님",1),v.showDropdown?((0,s.uX)(),(0,s.CE)("div",u,[(0,s.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>g.handleLogout&&g.handleLogout(...e))},"로그아웃")])):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",h,[(0,s.bF)(m)])])}o(4114);var g={data(){return{isLoggedIn:!1,userNickname:"",showDropdown:!1}},created(){this.checkLoginStatus()},methods:{checkLoginStatus(){this.isLoggedIn="true"===localStorage.getItem("isLoggedIn"),this.isLoggedIn&&(this.userNickname=localStorage.getItem("userNickname"))},toggleDropdown(){this.showDropdown=!this.showDropdown},handleLogout(){localStorage.removeItem("isLoggedIn"),localStorage.removeItem("rememberMe"),this.isLoggedIn=!1,this.showDropdown=!1,this.$router.push("/signin")},goToHome(){this.$router.push("/home")},goToWishlist(){this.$router.push("/wishlist")},goToSearch(){this.$router.push("/search")},goToPopular(){this.$router.push("/popular")}},watch:{$route(){this.checkLoginStatus()}}},m=o(6262);const p=(0,m.A)(g,[["render",v]]);var k=p,L=o(5220);const f={class:"movie-list"},y={key:0},w={key:1,class:"movie-grid"},b=["onClick"],S=["src","alt"],F={class:"movie-info"},C={class:"genres"},_={key:2,class:"loading-more"};function E(e,t,o,a,l,n){return(0,s.uX)(),(0,s.CE)("div",f,[l.loading?((0,s.uX)(),(0,s.CE)("div",y,"Loading...")):((0,s.uX)(),(0,s.CE)("div",w,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.movies,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onClick:t=>n.goToDetail(e.id)},[(0,s.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title},null,8,S),(0,s.Lk)("div",F,[(0,s.Lk)("h3",null,(0,i.v_)(e.title),1),(0,s.Lk)("div",C,(0,i.v_)(n.getGenres(e.genre_ids)),1)])],8,b)))),128))])),l.isLoading?((0,s.uX)(),(0,s.CE)("div",_," 더 많은 영화 불러오는 중... ")):(0,s.Q3)("",!0),(0,s.bo)((0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.scrollToTop&&n.scrollToTop(...e)),class:"scroll-top"}," Top ↑ ",512),[[r.aG,l.showTopButton]])])}o(7642),o(8004),o(3853),o(5876),o(2475),o(5024),o(1698),o(8992),o(4520),o(2577),o(3949),o(1454);var I=o(4335);const M=I.A.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"2b10b3f38ccd83ab521093068bb64ae1",language:"ko-KR"},headers:{"Content-Type":"application/json"}});M.interceptors.request.use((e=>(console.log("API 요청 설정:",{url:e.url,method:e.method,params:e.params}),e)),(e=>(console.error("API 요청 에러:",e),Promise.reject(e)))),M.interceptors.response.use((e=>(console.log("API 응답 성공:",e.status),e)),(e=>(console.error("API 응답 에러:",e.response?.status,e.message),Promise.reject(e))));const T={getPopular:(e=1)=>(console.log("인기 영화 요청 시작"),M.get("/movie/popular",{params:{page:e}}).then((e=>(console.log("인기 영화 응답:",e.data.results.length+"개 항목"),e))).catch((e=>{throw console.error("인기 영화 에러:",e),e}))),getGenres:()=>(console.log("장르 목록 요청 시작"),M.get("/genre/movie/list").then((e=>(console.log("장르 목록 응답:",e.data.genres.length+"개 항목"),e))).catch((e=>{throw console.error("장르 목록 에러:",e),e}))),getMovieDetails:e=>(console.log("영화 상세 정보 요청:",e),M.get(`/movie/${e}`).then((e=>(console.log("영화 상세 정보 응답:",e.data.title),e))).catch((e=>{throw console.error("영화 상세 정보 에러:",e),e}))),getMovieVideos:e=>(console.log("영화 비디오 요청:",e),M.get(`/movie/${e}/videos`).then((e=>(console.log("영화 비디오 응답:",e.data.results.length+"개 항목"),e))).catch((e=>{throw console.error("영화 비디오 에러:",e),e}))),getMoviesByGenre:e=>(console.log("장르별 영화 요청:",e),M.get("/discover/movie",{params:{with_genres:e}}).then((e=>(console.log("장르별 영화 응답:",e.data.results.length+"개 항목"),e))).catch((e=>{throw console.error("장르별 영화 에러:",e),e}))),getNowPlaying:()=>(console.log("현재 상영작 요청 시작"),M.get("/movie/now_playing").then((e=>(console.log("현재 상영작 응답:",e.data.results.length+"개 항목"),e))).catch((e=>{throw console.error("현재 상영작 에러:",e),e}))),getTopRated:()=>(console.log("높은 평점 영화 요청 시작"),M.get("/movie/top_rated").then((e=>(console.log("높은 평점 영화 응답:",e.data.results.length+"개 항목"),e))).catch((e=>{throw console.error("높은 평점 영화 에러:",e),e}))),searchMovies:e=>(console.log("영화 검색 요청:",e),M.get("/search/movie",{params:{query:e}}).then((e=>(console.log("검색 결과:",e.data.results.length+"개 항목"),e))).catch((e=>{throw console.error("검색 에러:",e),e})))};var P={name:"MovieList",data(){return{movies:[],loading:!0,genres:[],currentPage:1,isLoading:!1,hasMore:!0,showTopButton:!1}},async created(){try{const e=await T.getGenres();this.genres=e.data.genres;const t=await T.getPopular();this.movies=this.removeDuplicateMovies(t.data.results)}catch(e){console.error("Error:",e)}finally{this.loading=!1}},methods:{async fetchMovies(){try{const e=await T.getGenres();this.genres=e.data.genres;const t=await T.getPopular(this.currentPage);this.movies=t.data.results,this.loading=!1}catch(e){console.error("Error:",e)}},async loadMoreMovies(){if(!this.isLoading&&this.hasMore){this.isLoading=!0;try{const e=await T.getPopular(this.currentPage+1),t=e.data.results;0===t.length?this.hasMore=!1:(this.movies=[...this.movies,...t],this.currentPage+=1)}catch(e){console.error("Error:",e)}finally{this.isLoading=!1}}},handleScroll(){const e=Math.ceil(window.innerHeight+window.scrollY)>=document.documentElement.scrollHeight-100;e&&!this.isLoading&&this.loadMoreMovies(),this.showTopButton=window.scrollY>300},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},removeDuplicateMovies(e){const t=[],o=new Set;return e.forEach((e=>{o.has(e.id)||(o.add(e.id),t.push(e))})),t},getGenres(e){return e.map((e=>this.genres.find((t=>t.id===e))?.name)).filter((e=>e)).join(", ")},goToDetail(e){this.$router.push(`/movie/${e}`)}},mounted(){this.fetchMovies(),window.addEventListener("scroll",this.handleScroll)},unmounted(){window.removeEventListener("scroll",this.handleScroll)}};const R=(0,m.A)(P,[["render",E],["__scopeId","data-v-9551edf0"]]);var X=R;const $={key:0,class:"movie-detail"},D={class:"content"},x={class:"poster"},O=["src","alt"],Q={class:"info"},A={class:"meta"},V={class:"year"},K={class:"rating"},B={class:"genres"},N={class:"overview"},J={key:0,class:"trailer"},j=["src"],G={class:"video-section"},U={ref:"videoPlayer",class:"video-player"};function H(e,t,o,r,a,l){return a.movie?((0,s.uX)(),(0,s.CE)("div",$,[(0,s.Lk)("div",{class:"backdrop",style:(0,i.Tr)({backgroundImage:`url(https://image.tmdb.org/t/p/original${a.movie.backdrop_path})`})},[(0,s.Lk)("div",D,[(0,s.Lk)("div",x,[(0,s.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${a.movie.poster_path}`,alt:a.movie.title},null,8,O)]),(0,s.Lk)("div",Q,[(0,s.Lk)("h1",null,(0,i.v_)(a.movie.title),1),(0,s.Lk)("div",A,[(0,s.Lk)("span",V,(0,i.v_)(l.getYear(a.movie.release_date)),1),(0,s.Lk)("span",K,"⭐ "+(0,i.v_)(l.formatRating(a.movie.vote_average)),1),(0,s.Lk)("span",{class:"heart-icon",onClick:t[0]||(t[0]=(...e)=>l.toggleFavorite&&l.toggleFavorite(...e))},(0,i.v_)(a.isFavorite?"❤️":"🤍"),1),(0,s.Lk)("div",B,(0,i.v_)(l.getGenres(a.movie.genres)),1)]),(0,s.Lk)("p",N,(0,i.v_)(a.movie.overview),1),a.trailerKey?((0,s.uX)(),(0,s.CE)("div",J,[t[2]||(t[2]=(0,s.Lk)("h3",null,"예고편",-1)),(0,s.Lk)("iframe",{src:`https://www.youtube.com/embed/${a.trailerKey}`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,j)])):(0,s.Q3)("",!0),(0,s.Lk)("div",G,[(0,s.Lk)("video",U,null,512),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.playVideo&&r.playVideo(...e))},"재생")])])])],4)])):(0,s.Q3)("",!0)}o(7550);var q=o(953),W={name:"MovieDetail",data(){return{movie:null,trailerKey:null,isFavorite:!1}},setup(){const e=(0,q.KR)(null),t=()=>{e.value&&e.value.play()};return(0,s.sV)((()=>{console.log("비디오 플레이어 참조:",e.value)})),{videoPlayer:e,playVideo:t}},async created(){try{const e=this.$route.params.id,[t,o]=await Promise.all([T.getMovieDetails(e),T.getMovieVideos(e)]);this.movie=t.data;const r=o.data.results.find((e=>"Trailer"===e.type&&"YouTube"===e.site));r&&(this.trailerKey=r.key),this.checkIfFavorite()}catch(e){console.error("Error:",e)}},methods:{getYear(e){return new Date(e).getFullYear()},formatRating(e){return Math.round(10*e)/10},toggleFavorite(){let e=JSON.parse(localStorage.getItem("favorites")||"[]");const t=this.movie.id,o=e.findIndex((e=>e.id===t));-1!==o?(e.splice(o,1),this.isFavorite=!1):e.some((e=>e.id===t))||(e.push({id:t,title:this.movie.title,poster_path:this.movie.poster_path,vote_average:this.movie.vote_average}),this.isFavorite=!0),localStorage.setItem("favorites",JSON.stringify(e))},checkIfFavorite(){if(!this.movie)return;const e=JSON.parse(localStorage.getItem("favorites")||"[]");this.isFavorite=e.some((e=>e.id===this.movie.id))},mounted(){this.checkIfFavorite()},watch:{$route:{immediate:!0,async handler(){try{const e=this.$route.params.id,[t,o]=await Promise.all([T.getMovieDetails(e),T.getMovieVideos(e)]);this.movie=t.data;const r=o.data.results.find((e=>"Trailer"===e.type&&"YouTube"===e.site));r&&(this.trailerKey=r.key),this.checkIfFavorite()}catch(e){console.error("Error:",e)}}}},getGenres(e){return e.map((e=>e.name)).join(", ")}}};const Y=(0,m.A)(W,[["render",H],["__scopeId","data-v-2e614068"]]);var z=Y;const Z={class:"search-page"},ee={class:"filters"},te={class:"search-input-container"},oe={key:0,class:"recent-searches-dropdown"},re=["onClick"],se=["onClick"],ie={class:"category-section"},ae={class:"scroll-container"},le=["onClick"],ne=["src","alt"],ce={class:"movie-info"},de={class:"rating"},ue={class:"category-section"},he={class:"scroll-container"},ve=["onClick"],ge=["src","alt"],me={class:"movie-info"},pe={class:"rating"},ke={key:0,class:"movies-grid"},Le=["onClick"],fe=["src","alt"],ye={class:"movie-info"},we={class:"rating"},be={key:1,class:"loading"};function Se(e,t,o,a,l,n){return(0,s.uX)(),(0,s.CE)("div",Z,[(0,s.Lk)("div",ee,[(0,s.Lk)("div",te,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchQuery=e),type:"text",placeholder:"영화 제목 검색",onInput:t[1]||(t[1]=(...e)=>n.handleSearch&&n.handleSearch(...e)),onFocus:t[2]||(t[2]=e=>l.showRecentSearches=!0),onBlur:t[3]||(t[3]=(...e)=>n.handleBlur&&n.handleBlur(...e))},null,544),[[r.Jo,l.searchQuery]]),l.showRecentSearches&&l.recentSearches.length>0?((0,s.uX)(),(0,s.CE)("div",oe,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.recentSearches,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"recent-search-item"},[(0,s.Lk)("span",{onClick:t=>n.applyRecentSearch(e)},(0,i.v_)(e),9,re),(0,s.Lk)("button",{onClick:(0,r.D$)((e=>n.removeRecentSearch(t)),["stop"]),class:"remove-btn"},"×",8,se)])))),128))])):(0,s.Q3)("",!0)]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.selectedGenre=e),onChange:t[5]||(t[5]=(...e)=>n.applyFilters&&n.applyFilters(...e))},t[11]||(t[11]=[(0,s.Fv)('<option value="" data-v-15ca28b6>장르 선택</option><option value="28" data-v-15ca28b6>액션</option><option value="12" data-v-15ca28b6>모험</option><option value="16" data-v-15ca28b6>애니메이션</option><option value="35" data-v-15ca28b6>코미디</option><option value="27" data-v-15ca28b6>공포</option><option value="9648" data-v-15ca28b6>미스터리</option><option value="18" data-v-15ca28b6>드라마</option><option value="53" data-v-15ca28b6>스릴러</option><option value="14" data-v-15ca28b6>판타지</option>',10)]),544),[[r.u1,l.selectedGenre]]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.minRating=e),onChange:t[7]||(t[7]=(...e)=>n.applyFilters&&n.applyFilters(...e))},t[12]||(t[12]=[(0,s.Lk)("option",{value:""},"평점 선택",-1),(0,s.Lk)("option",{value:"8"},"8점 이상",-1),(0,s.Lk)("option",{value:"7"},"7점 이상",-1),(0,s.Lk)("option",{value:"6"},"6점 이상",-1)]),544),[[r.u1,l.minRating]]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.sortBy=e),onChange:t[9]||(t[9]=(...e)=>n.applyFilters&&n.applyFilters(...e))},t[13]||(t[13]=[(0,s.Lk)("option",{value:""},"정렬 기준",-1),(0,s.Lk)("option",{value:"popularity"},"인기순",-1),(0,s.Lk)("option",{value:"release_date"},"개봉년도순",-1),(0,s.Lk)("option",{value:"vote_average"},"평점순",-1)]),544),[[r.u1,l.sortBy]]),(0,s.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>n.resetFilters&&n.resetFilters(...e)),class:"reset-button"},"필터 초기화")]),(0,s.Lk)("div",ie,[(0,s.Lk)("div",ae,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.popularMovies,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onClick:t=>n.goToDetail(e.id)},[(0,s.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title},null,8,ne),(0,s.Lk)("div",ce,[(0,s.Lk)("h3",null,(0,i.v_)(e.title),1),(0,s.Lk)("div",de,"⭐ "+(0,i.v_)(e.vote_average.toFixed(1)),1)])],8,le)))),128))])]),(0,s.Lk)("div",ue,[t[14]||(t[14]=(0,s.Lk)("h2",null,"다시보기 추천 콘텐츠",-1)),(0,s.Lk)("div",he,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.recommendedMovies,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onClick:t=>n.goToDetail(e.id)},[(0,s.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title},null,8,ge),(0,s.Lk)("div",me,[(0,s.Lk)("h3",null,(0,i.v_)(e.title),1),(0,s.Lk)("div",pe,"⭐ "+(0,i.v_)(e.vote_average.toFixed(1)),1)])],8,ve)))),128))])]),l.loading?((0,s.uX)(),(0,s.CE)("div",be,"Loading...")):((0,s.uX)(),(0,s.CE)("div",ke,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.filteredMovies,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onClick:t=>n.goToDetail(e.id)},[(0,s.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title},null,8,fe),(0,s.Lk)("div",ye,[(0,s.Lk)("h3",null,(0,i.v_)(e.title),1),(0,s.Lk)("div",we,"⭐ "+(0,i.v_)(e.vote_average.toFixed(1)),1)])],8,Le)))),128))]))])}function Fe(){const e=(0,q.KR)(""),t=(0,q.KR)([]),o=(0,q.KR)(!1),r=(0,q.KR)(null),i=(0,s.EW)((()=>t.value.length>0)),a=async s=>{if(s.trim())try{o.value=!0,r.value=null,e.value=s;const i=await T.searchMovies(s);t.value=i.results}catch(i){r.value=i.message}finally{o.value=!1}},l=()=>{e.value="",t.value=[],r.value=null};return{searchQuery:e,searchResults:t,isLoading:o,error:r,hasResults:i,searchMovies:a,clearSearch:l}}var Ce={name:"SearchPage",data(){return{movies:[],filteredMovies:[],recentSearches:[],showRecentSearches:!1,maxRecentSearches:5,loading:!0,searchQuery:"",selectedGenre:"",minRating:"",sortBy:""}},methods:{components:{MovieList:X},setup(){const{searchQuery:e,searchResults:t,isLoading:o,error:r,hasResults:s,searchMovies:i,clearSearch:a}=Fe();return{searchQuery:e,searchResults:t,isLoading:o,error:r,hasResults:s,searchMovies:i,clearSearch:a}},async fetchMovies(){try{const e=await T.getPopular();this.movies=e.data.results,this.filteredMovies=[...this.movies],this.loading=!1}catch(e){console.error("Error:",e)}},handleSearch(){this.searchQuery.trim()?(this.saveRecentSearch(this.searchQuery.trim()),this.filteredMovies=this.movies.filter((e=>e.title.toLowerCase().includes(this.searchQuery.toLowerCase())))):this.filteredMovies=[...this.movies],this.applyFilters()},saveRecentSearch(e){if(!e)return;let t=[...this.recentSearches];const o=t.indexOf(e);o>-1&&t.splice(o,1),t.unshift(e),t=t.slice(0,this.maxRecentSearches),this.recentSearches=t,localStorage.setItem("recentSearches",JSON.stringify(t))},applyRecentSearch(e){this.searchQuery=e,this.handleSearch(),this.showRecentSearches=!1},removeRecentSearch(e){this.recentSearches.splice(e,1),localStorage.setItem("recentSearches",JSON.stringify(this.recentSearches))},handleBlur(){setTimeout((()=>{this.showRecentSearches=!1}),200)},applyFilters(){let e=[...this.movies];this.searchQuery&&(e=e.filter((e=>e.title.toLowerCase().includes(this.searchQuery.toLowerCase())))),this.selectedGenre&&(e=e.filter((e=>e.genre_ids.includes(Number(this.selectedGenre))))),this.minRating&&(e=e.filter((e=>e.vote_average>=Number(this.minRating)))),this.sortBy&&e.sort(((e,t)=>{switch(this.sortBy){case"popularity":return t.popularity-e.popularity;case"release_date":return new Date(t.release_date)-new Date(e.release_date);case"vote_average":return t.vote_average-e.vote_average;default:return 0}})),this.filteredMovies=e},resetFilters(){this.searchQuery="",this.selectedGenre="",this.minRating="",this.sortBy="",this.filteredMovies=[...this.movies]},goToDetail(e){this.$router.push(`/movie/${e}`)}},created(){this.fetchMovies();const e=localStorage.getItem("recentSearches");e&&(this.recentSearches=JSON.parse(e))},mounted(){document.addEventListener("click",(e=>{e.target.closest(".search-input-container")||(this.showRecentSearches=!1)}))}};const _e=(0,m.A)(Ce,[["render",Se],["__scopeId","data-v-15ca28b6"]]);var Ee=_e;const Ie={class:"auth-container"},Me={class:"input-group"},Te={class:"input-group"},Pe={class:"checkbox-group"},Re={class:"switch-form"},Xe={class:"input-group"},$e={class:"input-group"},De={class:"input-group"},xe={class:"input-group"},Oe={class:"checkbox-group"},Qe={class:"switch-form"};function Ae(e,t,o,a,l,n){return(0,s.uX)(),(0,s.CE)("div",Ie,[(0,s.Lk)("div",{class:(0,i.C4)(["auth-box",{"slide-up":!l.isLogin}])},[(0,s.bF)(r.eB,{name:"fade",mode:"out-in"},{default:(0,s.k6)((()=>[l.isLogin?((0,s.uX)(),(0,s.CE)("form",{onSubmit:t[5]||(t[5]=(0,r.D$)(((...e)=>n.handleLogin&&n.handleLogin(...e)),["prevent"])),key:"login"},[t[16]||(t[16]=(0,s.Lk)("h1",null,"로그인",-1)),(0,s.Lk)("div",Me,[(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>l.loginForm.email=e),placeholder:"이메일",onBlur:t[1]||(t[1]=e=>n.validateEmail(l.loginForm.email)),required:""},null,544),[[r.Jo,l.loginForm.email]])]),(0,s.Lk)("div",Te,[(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>l.loginForm.password=e),placeholder:"비밀번호",required:""},null,512),[[r.Jo,l.loginForm.password]])]),(0,s.Lk)("div",Pe,[(0,s.Lk)("label",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>l.loginForm.rememberMe=e)},null,512),[[r.lH,l.loginForm.rememberMe]]),t[14]||(t[14]=(0,s.Lk)("span",null,"Remember me",-1))])]),t[17]||(t[17]=(0,s.Lk)("button",{type:"submit"},"로그인",-1)),(0,s.Lk)("p",Re,[t[15]||(t[15]=(0,s.eW)(" 계정이 없으신가요? ")),(0,s.Lk)("span",{onClick:t[4]||(t[4]=(...e)=>n.toggleForm&&n.toggleForm(...e))},"회원가입")])],32)):((0,s.uX)(),(0,s.CE)("form",{onSubmit:t[13]||(t[13]=(0,r.D$)(((...e)=>n.handleRegister&&n.handleRegister(...e)),["prevent"])),key:"register"},[t[20]||(t[20]=(0,s.Lk)("h1",null,"회원가입",-1)),(0,s.Lk)("div",Xe,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>l.registerForm.nickname=e),placeholder:"닉네임",required:""},null,512),[[r.Jo,l.registerForm.nickname]])]),(0,s.Lk)("div",$e,[(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":t[7]||(t[7]=e=>l.registerForm.email=e),placeholder:"이메일",onBlur:t[8]||(t[8]=e=>n.validateEmail(l.registerForm.email)),required:""},null,544),[[r.Jo,l.registerForm.email]])]),(0,s.Lk)("div",De,[(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":t[9]||(t[9]=e=>l.registerForm.password=e),placeholder:"비밀번호",required:""},null,512),[[r.Jo,l.registerForm.password]])]),(0,s.Lk)("div",xe,[(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":t[10]||(t[10]=e=>l.registerForm.confirmPassword=e),placeholder:"비밀번호 확인",required:""},null,512),[[r.Jo,l.registerForm.confirmPassword]])]),(0,s.Lk)("div",Oe,[(0,s.Lk)("label",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=e=>l.registerForm.termsAgreed=e)},null,512),[[r.lH,l.registerForm.termsAgreed]]),t[18]||(t[18]=(0,s.Lk)("span",null,"약관에 동의합니다",-1))])]),t[21]||(t[21]=(0,s.Lk)("button",{type:"submit"},"회원가입",-1)),(0,s.Lk)("p",Qe,[t[19]||(t[19]=(0,s.eW)(" 이미 계정이 있으신가요? ")),(0,s.Lk)("span",{onClick:t[12]||(t[12]=(...e)=>n.toggleForm&&n.toggleForm(...e))},"로그인")])],32))])),_:1})],2)])}var Ve={name:"SignInPage",data(){return{isLogin:!0,loginForm:{email:"",password:"",rememberMe:!1},registerForm:{nickname:"",email:"",password:"",confirmPassword:"",termsAgreed:!1}}},methods:{validateEmail(e){const t=/^[\w-]+@([\w-]+\.)+[\w-]{2,4}$/;return!!t.test(e)||(alert("잘못된 이메일 형식입니다."),!1)},handleLogin(){const e=localStorage.getItem("userEmail"),t=localStorage.getItem("userPassword");this.loginForm.email===e&&this.loginForm.password===t?(localStorage.setItem("isLoggedIn","true"),this.loginForm.rememberMe&&localStorage.setItem("rememberMe","true"),alert("로그인 성공!"),this.$router.push("/home")):alert("이메일 또는 비밀번호가 일치하지 않습니다.")},handleRegister(){this.validateEmail(this.registerForm.email)&&(this.registerForm.password===this.registerForm.confirmPassword?this.registerForm.termsAgreed?(localStorage.setItem("userEmail",this.registerForm.email),localStorage.setItem("userPassword",this.registerForm.password),localStorage.setItem("userNickname",this.registerForm.nickname),alert("회원가입 완료되었습니다."),this.isLogin=!0,this.loginForm.email=this.registerForm.email):alert("약관에 동의해주세요."):alert("비밀번호가 일치하지 않습니다."))},toggleForm(){this.isLogin=!this.isLogin}}};const Ke=(0,m.A)(Ve,[["render",Ae],["__scopeId","data-v-f19f3996"]]);var Be=Ke;const Ne={class:"wishlist-page"},Je={key:0,class:"empty-state"},je={key:1,class:"content-section"},Ge={class:"scroll-container"},Ue=["onClick"],He={class:"poster-wrapper"},qe=["src","alt"],We=["onClick"],Ye={class:"movie-info"},ze={class:"rating"};function Ze(e,t,o,a,l,n){return(0,s.uX)(),(0,s.CE)("div",Ne,[t[1]||(t[1]=(0,s.Lk)("h2",{class:"section-title"},"내가 찜한 콘텐츠",-1)),0===l.favorites.length?((0,s.uX)(),(0,s.CE)("div",Je,t[0]||(t[0]=[(0,s.Lk)("p",null,"아직 찜한 콘텐츠가 없습니다.",-1)]))):((0,s.uX)(),(0,s.CE)("div",je,[(0,s.Lk)("div",Ge,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.favorites,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onClick:t=>n.goToDetail(e.id)},[(0,s.Lk)("div",He,[(0,s.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title},null,8,qe),(0,s.Lk)("button",{class:"remove-button",onClick:(0,r.D$)((t=>n.removeFromFavorites(e.id)),["stop"])}," ✕ ",8,We)]),(0,s.Lk)("div",Ye,[(0,s.Lk)("h3",null,(0,i.v_)(e.title),1),(0,s.Lk)("div",ze,"⭐ "+(0,i.v_)(e.vote_average.toFixed(1)),1)])],8,Ue)))),128))])]))])}var et={name:"WishlistPage",data(){return{favorites:[]}},created(){const e=localStorage.getItem("favorites");e&&(this.favorites=JSON.parse(e))},methods:{loadFavorites(){const e=localStorage.getItem("favorites");if(e){const t=JSON.parse(e),o=Array.from(new Set(t.map((e=>e.id)))).map((e=>t.find((t=>t.id===e))));this.favorites=o}},goToDetail(e){this.$router.push(`/movie/${e}`)},removeFromFavorites(e){this.favorites=this.favorites.filter((t=>t.id!==e)),localStorage.setItem("favorites",JSON.stringify(this.favorites))}}};const tt=(0,m.A)(et,[["render",Ze],["__scopeId","data-v-6737e684"]]);var ot=tt;const rt={class:"popular-page"},st={class:"movie-slider"},it={class:"rank-number"},at=["onClick"],lt=["src","alt"],nt={class:"movie-info"},ct={key:0,class:"badge new"};function dt(e,t,o,r,a,l){return(0,s.uX)(),(0,s.CE)("div",rt,[t[2]||(t[2]=(0,s.Lk)("h1",{class:"title"},"Homeflix의 대세 콘텐츠",-1)),(0,s.Lk)("div",st,[(0,s.Lk)("div",{class:"movie-container",style:(0,i.Tr)({transform:`translateX(-${100*a.currentSlide}%)`})},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.movies,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-item"},[(0,s.Lk)("div",it,(0,i.v_)(t+1),1),(0,s.Lk)("div",{class:"movie-poster",onClick:t=>l.goToMovieDetail(e.id)},[(0,s.Lk)("img",{src:l.getImageUrl(e.poster_path),alt:e.title},null,8,lt),(0,s.Lk)("div",nt,[e.release_date?((0,s.uX)(),(0,s.CE)("div",ct,"새로운 시리즈")):(0,s.Q3)("",!0)])],8,at)])))),128))],4),(0,s.Lk)("button",{class:"next-arrow",onClick:t[0]||(t[0]=(...e)=>l.nextSlide&&l.nextSlide(...e))},t[1]||(t[1]=[(0,s.Lk)("span",{class:"arrow"},"→",-1)]))])])}var ut={data(){return{movies:[],currentSlide:0,itemsPerSlide:5,loading:!1}},computed:{maxSlides(){return Math.ceil(this.movies.length/this.itemsPerSlide)-1}},methods:{getImageUrl(e){return`https://image.tmdb.org/t/p/w500${e}`},goToMovieDetail(e){this.$router.push(`/movie/${e}`)},async fetchPopularMovies(){this.loading=!0;try{const e=await T.getPopular(1);this.movies=e.data.results.slice(0,20)}catch(e){console.error("Error:",e)}finally{this.loading=!1}},nextSlide(){this.currentSlide<this.maxSlides?this.currentSlide++:this.currentSlide=0},prevSlide(){this.currentSlide>0?this.currentSlide--:this.currentSlide=this.maxSlides}},mounted(){this.fetchPopularMovies()}};const ht=(0,m.A)(ut,[["render",dt],["__scopeId","data-v-be9c78a6"]]);var vt=ht;const gt=[{path:"/",redirect:"/signin"},{path:"/signin",name:"SignIn",component:Be},{path:"/home",name:"Home",component:X,meta:{requiresAuth:!0}},{path:"/movie/:id",name:"MovieDetail",component:z},{path:"/search",name:"Search",component:Ee},{path:"/popular",name:"Popular",component:vt},{path:"/wishlist",name:"Wishlist",component:ot}],mt=(0,L.aE)({history:(0,L.LA)("/movielist.github.io/"),routes:gt});mt.beforeEach(((e,t,o)=>{const r=localStorage.getItem("isLoggedIn");"/signin"===e.path||r?o():o("/signin")}));var pt=mt;const kt=(0,r.Ef)(k);kt.use(pt),kt.mount("#app")}},t={};function o(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(t,r,s,i){if(!r){var a=1/0;for(d=0;d<e.length;d++){r=e[d][0],s=e[d][1],i=e[d][2];for(var l=!0,n=0;n<r.length;n++)(!1&i||a>=i)&&Object.keys(o.O).every((function(e){return o.O[e](r[n])}))?r.splice(n--,1):(l=!1,i<a&&(a=i));if(l){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,s,i]}}(),function(){o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,i,a=r[0],l=r[1],n=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(s in l)o.o(l,s)&&(o.m[s]=l[s]);if(n)var d=n(o)}for(t&&t(r);c<a.length;c++)i=a[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},r=self["webpackChunkwebproject2"]=self["webpackChunkwebproject2"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=o.O(void 0,[504],(function(){return o(1520)}));r=o.O(r)})();
//# sourceMappingURL=app.796c5c61.js.map